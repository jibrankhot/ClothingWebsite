<header class="desktop-header">
    <div class="header-full-width">

        <!-- Logo -->
        <div class="logo-container">
            <ng-container *ngIf="company">
                <div class="logo">
                    <a [routerLink]="[company.logo.link]">
                        <img [src]="company.logo.src" alt="logo" />
                    </a>
                </div>
            </ng-container>
        </div>

        <!-- Menu -->
        <div class="main-menu">
            <nav class="tp-main-menu-content">
                <app-menu-bar></app-menu-bar>
            </nav>
        </div>

        <!-- Search -->
        <div class="search-container">
            <form class="search-wrapper" (ngSubmit)="searchSubmit.emit()">
                <button type="submit" aria-label="Search" class="search-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M9 17C13.4 17 17 13.4 17 9C17 4.6 13.4 1 9 1C4.6 1 1 4.6 1 9C1 13.4 4.6 17 9 17Z"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                        <path d="M19 19L14.6 14.6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </button>
                <div class="tp-header-search-2">
                    <input type="text" placeholder="Search for products, brands and more" [(ngModel)]="searchText"
                        name="searchText" />
                </div>
            </form>
        </div>

        <!-- Right Actions -->
        <div class="tp-header-bottom-right">

            <!-- Profile -->
            <div class="profile-container" [class.open]="isProfileOpen" (mouseenter)="isProfileOpen = true"
                (mouseleave)="isProfileOpen = false">

                <div class="tp-header-action-item">
                    <a class="tp-header-action-btn" aria-label="Profile">
                        <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
                            <path d="M11 11C13.7 11 16 8.7 16 6C16 3.2 13.7 1 11 1C8.2 1 6 3.2 6 6C6 8.7 8.2 11 11 11Z"
                                stroke="currentColor" stroke-width="1.5" />
                            <path d="M3 21C3 17.1 6.1 14 10 14H12C15.9 14 19 17.1 19 21" stroke="currentColor"
                                stroke-width="1.5" />
                        </svg>
                        <span class="tp-header-action-label">Profile</span>
                    </a>

                    <!-- Dropdown -->
                    <div class="profile-dropdown" *ngIf="isProfileOpen">
                        <a routerLink="/profile">
                            <svg viewBox="0 0 24 24" fill="none">
                                <path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5Z"
                                    stroke="currentColor" />
                                <path d="M4 22c0-4 4-7 8-7s8 3 8 7" stroke="currentColor" />
                            </svg>
                            <span>My Account</span>
                        </a>

                        <a (click)="logoutEvent.emit()" class="logout">
                            <svg viewBox="0 0 24 24" fill="none">
                                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" stroke="currentColor" />
                                <path d="M10 17l5-5-5-5M15 12H3" stroke="currentColor" />
                            </svg>
                            <span>Logout</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Wishlist -->
            <div class="wishlist-container">
                <div class="tp-header-action-item">
                    <a routerLink="/shop/wishlist" class="tp-header-action-btn" aria-label="Wishlist">
                        <svg width="22" height="20" viewBox="0 0 22 20" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M11.2 18.9C13.4 17.5 15.4 15.9 17.3 14.2C18.5 12.9 19.5 11.3 20.1 9.6C21.2 6.2 19.9 2.4 16.4 1.3C14.6 0.7 12.6 1 11 2.2C9.4 1 7.4 0.7 5.6 1.3C2.1 2.4 0.8 6.2 1.9 9.6C2.5 11.3 3.5 12.9 4.7 14.2C6.6 15.9 8.6 17.5 10.8 18.9L11 19L11.2 18.9Z"
                                stroke="currentColor" stroke-width="1.5" />
                        </svg>
                        <span class="tp-header-action-label">Wishlist</span>
                        <span class="tp-header-action-badge">
                            {{ wishlistService.getWishlistProducts().length }}
                        </span>
                    </a>
                </div>
            </div>

            <!-- Cart -->
            <div class="cart-container">
                <div class="tp-header-action-item">
                    <button (click)="cartService.handleOpenCartSidebar()" class="tp-header-action-btn cartmini-open-btn"
                        aria-label="Open Cart Sidebar">
                        <svg width="21" height="22" viewBox="0 0 21 22" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M6.5 20.5H14.8C17.9 20.5 20.3 19.4 19.6 14.9L18.8 8.9C18.4 6.7 17 5.8 15.7 5.8H5.6C4.3 5.8 3 6.7 2.5 8.9L1.7 14.9C1.1 18.9 3.4 20.5 6.5 20.5Z"
                                stroke="currentColor" stroke-width="1.5" />
                        </svg>
                        <span class="tp-header-action-label">Bag</span>
                        <span class="tp-header-action-badge">
                            {{ cartService.totalPriceQuantity().quantity }}
                        </span>
                    </button>
                </div>
            </div>

        </div>
    </div>
</header>

<app-cart-sidebar></app-cart-sidebar>